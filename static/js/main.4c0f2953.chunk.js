(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a=c(8),n=c.n(a),s=c(6),r=c(9),l=c(7),o=c(3),i=c.n(o),d=c(1),j=(c(26),c(27),c(12)),u=c.n(j),b=s.b,h=s.c,O=function(e){return{type:"currentTodo/SET",payload:e}},f=function(){return{type:"currentTodo/REMOVE"}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"currentTodo/SET":return t.payload;case"currentTodo/REMOVE":return null;default:return e}},x=c(0),p=function(e){var t=e.todo,c=b(),a=h((function(e){return e.currentTodo})),n=t.id,s=t.title,r=t.completed,l=n===(null===a||void 0===a?void 0:a.id)||!1;return Object(x.jsxs)("tr",{"data-cy":"todo",className:u()({"has-background-info-light":l}),children:[Object(x.jsx)("td",{className:"is-vcentered",children:n}),r?Object(x.jsx)("td",{className:"is-vcentered",children:Object(x.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(x.jsx)("i",{className:"fas fa-check"})})}):Object(x.jsx)("td",{className:"is-vcentered"}),Object(x.jsx)("td",{className:"is-vcentered is-expanded",children:Object(x.jsx)("p",{className:u()({"has-text-success":r},{"has-text-danger":!r}),children:s})}),Object(x.jsx)("td",{className:"has-text-right is-vcentered",children:Object(x.jsx)("button",{"data-cy":"selectButton",className:"button",type:"button",onClick:function(){c(O(t))},children:Object(x.jsx)("span",{className:"icon",children:Object(x.jsx)("i",{className:u()("far",{"fa-eye":!l},{"fa-eye-slash":l})})})})})]},n)},v=function(e){var t=e.todos;return Object(x.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"#"}),Object(x.jsx)("th",{children:Object(x.jsx)("span",{className:"icon",children:Object(x.jsx)("i",{className:"fas fa-check"})})}),Object(x.jsx)("th",{children:"Title"}),Object(x.jsx)("th",{children:" "})]})}),Object(x.jsx)("tbody",{children:t.map((function(e){return Object(x.jsx)(p,{todo:e},e.id)}))})]})},y=c(2),N={query:"",select:"all"},g=function(e){return{type:"filter/SETQUERY",payload:e}},E=function(e){return{type:"filter/SETSELECT",payload:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/SETQUERY":return Object(y.a)(Object(y.a)({},e),{},{query:t.payload});case"filter/SETSELECT":return Object(y.a)(Object(y.a)({},e),{},{select:t.payload});default:return Object(y.a)({},e)}},k=function(){var e=b(),t=h((function(e){return e.filter})),c=t.query,a=t.select;return Object(x.jsxs)("form",{className:"field has-addons",children:[Object(x.jsx)("p",{className:"control",children:Object(x.jsx)("span",{className:"select",children:Object(x.jsxs)("select",{"data-cy":"statusSelect",value:a,onChange:function(t){e(E(t.target.value))},children:[Object(x.jsx)("option",{value:"all",children:"All"}),Object(x.jsx)("option",{value:"active",children:"Active"}),Object(x.jsx)("option",{value:"completed",children:"Completed"})]})})}),Object(x.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(x.jsx)("input",{"data-cy":"searchInput",type:"text",className:"input",placeholder:"Search...",value:c,onChange:function(t){e(g(t.target.value))}}),Object(x.jsx)("span",{className:"icon is-left",children:Object(x.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(x.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:!!c.length&&Object(x.jsx)("button",{"data-cy":"clearSearchButton",type:"button",className:"delete",onClick:function(){e(g(""))},"aria-label":"clearSearch"})})]})]})};function w(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){return e.json()}))}var S=function(e){return w("/users/".concat(e))},C=(c(29),function(){return Object(x.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(x.jsx)("div",{className:"Loader__content"})})}),L=function(){var e=b(),t=h((function(e){return e.currentTodo})),c=Object(d.useState)(null),a=Object(l.a)(c,2),n=a[0],s=a[1],o=t||{},j=o.id,u=void 0===j?0:j,O=o.userId,m=void 0===O?0:O,p=o.title,v=void 0===p?"":p,y=o.completed,N=void 0!==y&&y;return Object(d.useEffect)((function(){Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,S(m);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(x.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(x.jsx)("div",{className:"modal-background"}),n?Object(x.jsxs)("div",{className:"modal-card",children:[Object(x.jsxs)("header",{className:"modal-card-head",children:[Object(x.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(u)}),Object(x.jsx)("button",{type:"button",className:"delete","data-cy":"modal-close",onClick:function(){e(f())},"aria-label":"delete"})]}),Object(x.jsxs)("div",{className:"modal-card-body",children:[Object(x.jsx)("p",{className:"block","data-cy":"modal-title",children:v}),Object(x.jsxs)("p",{className:"block","data-cy":"modal-user",children:[N?Object(x.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(x.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(x.jsx)("a",{href:"mailto:".concat(n.email),children:n.name})]})]})]}):Object(x.jsx)(C,{})]})},R=c(11);function _(e,t){return e.toLowerCase().includes(t.toLowerCase())}var q=function(e){return{type:"todos/SET",payload:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"todos/SET"===t.type?t.payload:Object(R.a)(e)},B=function(){var e=Object(d.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(d.useState)(!1),s=Object(l.a)(n,2),o=s[0],j=s[1],u=b(),O=h((function(e){return e.filter})),f=O.query,m=O.select,p=h((function(e){return e.currentTodo})),y=h((function(e){return e.todos}));return Object(d.useEffect)((function(){Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,w("/todos");case 3:e.t1=e.sent,(0,e.t0)(e.t1),j(!0);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(d.useEffect)((function(){u(q(function(e,t,c){var a=Object(R.a)(e);switch(c){case"completed":a=a.filter((function(e){return e.completed&&_(e.title,t)}));break;case"active":a=a.filter((function(e){return!e.completed&&_(e.title,t)}));break;case"all":a=a.filter((function(e){return _(e.title,t)}));break;default:throw new Error("Error: Invalid selectValue")}return a}(c,f,m)))}),[f,m,c]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"section",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("h1",{className:"title",children:"Todos:"}),Object(x.jsx)("div",{className:"block",children:Object(x.jsx)(k,{})}),Object(x.jsx)("div",{className:"block",children:o?Object(x.jsx)(v,{todos:y}):Object(x.jsx)(C,{})})]})})}),p&&Object(x.jsx)(L,{})]})},M=c(5),V=c(16),A=c(17),D=Object(M.combineReducers)({currentTodo:m,filter:T,todos:I}),J=Object(M.createStore)(D,Object(V.composeWithDevTools)(Object(M.applyMiddleware)(A.a)));n.a.render(Object(x.jsx)(s.a,{store:J,children:Object(x.jsx)(B,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4c0f2953.chunk.js.map